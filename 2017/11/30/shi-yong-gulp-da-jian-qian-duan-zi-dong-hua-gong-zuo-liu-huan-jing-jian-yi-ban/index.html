<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="海歌轻唱"><title>使用gulp搭建前端自动化工作流环境（简易版） · IVMA</title><meta name="description" content="本文通过简单且实用的案例，讲解使用gulp搭建前端自动化工作流环境详细步骤，带领大家快速入门。



本文通过简单且实用的案例，讲解使用gulp搭建前端自动化工作流环境详细步骤，带领大家快速入门。

什么是gulp？来自官网的简介：Automate and enhance your workflow"><meta name="keywords" content="海歌轻唱 爱吗"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 5.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">IVMA</a></h3><div class="description"><p>心之所愿，无事不成。<br> Nothing is impossible to a willing heart.</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/CIHOO2020"><i class="fa fa-github"></i></a></li><li><a href="mailto:CIHOO@CIHOO.ME"><i class="fa fa-envelope"></i></a></li><li><a target="_blank" rel="noopener" href="http://sighttp.qq.com/authd?IDKEY="><i class="fa fa-qq"></i></a></li><li><a target="_blank" rel="noopener" href="https://zhihu.com/"><i class="fa fa-mortar-board"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2017 - 2020 </span><i class="fa fa-star"></i><span> 海歌轻唱</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/zh-cn/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/tags">标签</a></li><li><a href="/about">关于</a></li><li><a href="/guestbook">留言</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>使用gulp搭建前端自动化工作流环境（简易版）</a></h3></div><div class="post-content"><blockquote>
<p>本文通过简单且实用的案例，讲解使用gulp搭建前端自动化工作流环境详细步骤，带领大家快速入门。</p>
</blockquote>
<!-- more -->
<blockquote>
<p>本文通过简单且实用的案例，讲解使用gulp搭建前端自动化工作流环境详细步骤，带领大家快速入门。</p>
</blockquote>
<h3 id="什么是gulp？"><a href="#什么是gulp？" class="headerlink" title="什么是gulp？"></a><a href="#%E4%BB%80%E4%B9%88%E6%98%AFgulp%EF%BC%9F" title="什么是gulp？"></a>什么是gulp？</h3><p>来自官网的简介：Automate and enhance your workflow. gulp is a toolkit for automating painful or time-consuming tasks in your development workflow, so you can stop messing around and build something.</p>
<p>大致意思是讲gulp是一款自动化构建工具，可用于增强你的开发工作流程，提高工作效率！前端界的友友们，这个工具可不要错过了哟~</p>
<p>了解更多信息，请前往： <a target="_blank" rel="noopener" href="https://gulpjs.com/">gulp官网</a> 、 <a target="_blank" rel="noopener" href="http://www.gulpjs.com.cn/">gulp中文网</a></p>
<h3 id="gulp优点"><a href="#gulp优点" class="headerlink" title="gulp优点"></a><a href="#gulp%E4%BC%98%E7%82%B9" title="gulp优点"></a>gulp优点</h3><ul>
<li><strong>易于使用</strong> 通过代码优于配置的策略，gulp 让简单的任务简单，复杂的任务可管理。</li>
<li><strong>构建快速</strong> 利用 Node.js 流的威力，你可以快速构建项目并减少频繁的 IO 操作。</li>
<li><strong>插件高质</strong> gulp 严格的插件指南确保插件如你期望的那样简洁高质得工作。</li>
<li><strong>易于学习</strong> 通过最少的 API，掌握 gulp 毫不费力，构建工作尽在掌握：如同一系列流管道。</li>
</ul>
<h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a><a href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C" title="准备工作"></a>准备工作</h3><p><strong>gulp依赖Node.js，参考本教程的朋友们，请先在本地环境安装好Node.js，并确认Node.js、npm可正常使用。</strong></p>
<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a><a href="#%E6%AD%A5%E9%AA%A4" title="步骤"></a>步骤</h3><h4 id="第一步-新建项目根文件夹-例：gulp-demo-，并在项目根目录下使用npm安装必要的包"><a href="#第一步-新建项目根文件夹-例：gulp-demo-，并在项目根目录下使用npm安装必要的包" class="headerlink" title="第一步 新建项目根文件夹(例：gulp-demo)，并在项目根目录下使用npm安装必要的包"></a><a href="#%E7%AC%AC%E4%B8%80%E6%AD%A5-%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE%E6%A0%B9%E6%96%87%E4%BB%B6%E5%A4%B9-%E4%BE%8B%EF%BC%9Agulp-demo-%EF%BC%8C%E5%B9%B6%E5%9C%A8%E9%A1%B9%E7%9B%AE%E6%A0%B9%E7%9B%AE%E5%BD%95%E4%B8%8B%E4%BD%BF%E7%94%A8npm%E5%AE%89%E8%A3%85%E5%BF%85%E8%A6%81%E7%9A%84%E5%8C%85" title="第一步 新建项目根文件夹(例：gulp-demo)，并在项目根目录下使用npm安装必要的包"></a>第一步 新建项目根文件夹(例：gulp-demo)，并在项目根目录下使用npm安装必要的包</h4><p>1  </p>
<p>$ npm install gulp gulp-less gulp-concat gulp-cssnano gulp-uglify gulp-htmlmin browser-sync –save-dev  </p>
<p>本案例使用的gulp插件介绍：</p>
<ul>
<li><strong>gulp-less</strong> 将less编译成css</li>
<li><strong>gulp-concat</strong> 将多个JavaScript合并</li>
<li><strong>gulp-cssnano</strong> css压缩</li>
<li><strong>gulp-uglify</strong> JavaScript压缩并混淆</li>
<li><strong>gulp-htmlmin</strong> html压缩</li>
<li><strong>browser-sync</strong> 多浏览器同步操作</li>
</ul>
<h4 id="第二步-在项目根文件夹-例：gulp-demo-下创建相关的文件结构"><a href="#第二步-在项目根文件夹-例：gulp-demo-下创建相关的文件结构" class="headerlink" title="第二步 在项目根文件夹(例：gulp-demo)下创建相关的文件结构"></a><a href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5-%E5%9C%A8%E9%A1%B9%E7%9B%AE%E6%A0%B9%E6%96%87%E4%BB%B6%E5%A4%B9-%E4%BE%8B%EF%BC%9Agulp-demo-%E4%B8%8B%E5%88%9B%E5%BB%BA%E7%9B%B8%E5%85%B3%E7%9A%84%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84" title="第二步 在项目根文件夹(例：gulp-demo)下创建相关的文件结构"></a>第二步 在项目根文件夹(例：gulp-demo)下创建相关的文件结构</h4><h5 id="src-gulp编译之前的源文件"><a href="#src-gulp编译之前的源文件" class="headerlink" title="src [gulp编译之前的源文件]"></a><a href="#src-gulp%E7%BC%96%E8%AF%91%E4%B9%8B%E5%89%8D%E7%9A%84%E6%BA%90%E6%96%87%E4%BB%B6" title="src [gulp编译之前的源文件]"></a>src [gulp编译之前的源文件]</h5><ul>
<li><strong>css</strong> 我们在此处编写css文件</li>
<li><strong>img</strong> 我们在此处放置图片文件</li>
<li><strong>js</strong> 我们在此处编写css文件</li>
<li><strong>index1.html</strong></li>
<li><strong>index2.html</strong></li>
<li><strong>…….</strong></li>
</ul>
<h5 id="node-modules"><a href="#node-modules" class="headerlink" title="node_modules"></a><a href="#node-modules" title="node_modules"></a>node_modules</h5><p>通过npm安装的包及其依赖包的库，自动生成文件夹。</p>
<h5 id="gulpfile-js"><a href="#gulpfile-js" class="headerlink" title="gulpfile.js"></a><a href="#gulpfile-js" title="gulpfile.js"></a>gulpfile.js</h5><p>gulp的入口文件，我们在此处编写相关任务代码。</p>
<h5 id="dist-gulp编译之后的文件，即我们最终要得到文件"><a href="#dist-gulp编译之后的文件，即我们最终要得到文件" class="headerlink" title="dist [gulp编译之后的文件，即我们最终要得到文件]"></a><a href="#dist-gulp%E7%BC%96%E8%AF%91%E4%B9%8B%E5%90%8E%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%8C%E5%8D%B3%E6%88%91%E4%BB%AC%E6%9C%80%E7%BB%88%E8%A6%81%E5%BE%97%E5%88%B0%E6%96%87%E4%BB%B6" title="dist [gulp编译之后的文件，即我们最终要得到文件]"></a>dist [gulp编译之后的文件，即我们最终要得到文件]</h5><ul>
<li><strong>css</strong></li>
<li><strong>img</strong></li>
<li><strong>js</strong></li>
<li><strong>index.html</strong></li>
</ul>
<h5 id="项目目录结构图示"><a href="#项目目录结构图示" class="headerlink" title="项目目录结构图示"></a><a href="#%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%9B%BE%E7%A4%BA" title="项目目录结构图示"></a>项目目录结构图示</h5><p><img src="http://ojzaff7fe.bkt.clouddn.com/gulp%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.jpg" alt="项目目录结构图示"></p>
<h4 id="第三步-在gulpfile-js文件里编写具体的任务代码"><a href="#第三步-在gulpfile-js文件里编写具体的任务代码" class="headerlink" title="第三步 在gulpfile.js文件里编写具体的任务代码"></a><a href="#%E7%AC%AC%E4%B8%89%E6%AD%A5-%E5%9C%A8gulpfile-js%E6%96%87%E4%BB%B6%E9%87%8C%E7%BC%96%E5%86%99%E5%85%B7%E4%BD%93%E7%9A%84%E4%BB%BB%E5%8A%A1%E4%BB%A3%E7%A0%81" title="第三步 在gulpfile.js文件里编写具体的任务代码"></a>第三步 在gulpfile.js文件里编写具体的任务代码</h4><h5 id="载入所需要的模块"><a href="#载入所需要的模块" class="headerlink" title="载入所需要的模块"></a><a href="#%E8%BD%BD%E5%85%A5%E6%89%80%E9%9C%80%E8%A6%81%E7%9A%84%E6%A8%A1%E5%9D%97" title="载入所需要的模块"></a>载入所需要的模块</h5><p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8  </p>
<p>‘use strict’;   // 启用JavaScript严格模式<br>var gulp = require(‘gulp’);<br>var less = require(‘gulp-less’);<br>var cssnano = require(‘gulp-cssnano’);<br>var concat = require(‘gulp-concat’);<br>var uglify = require(‘gulp-uglify’);<br>var htmlmin = require(‘gulp-htmlmin’);<br>var browserSync = require(‘browser-sync’);  </p>
<h5 id="less编译、压缩"><a href="#less编译、压缩" class="headerlink" title="less编译、压缩"></a><a href="#less%E7%BC%96%E8%AF%91%E3%80%81%E5%8E%8B%E7%BC%A9" title="less编译、压缩"></a>less编译、压缩</h5><p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10  </p>
<p>// 定义LESS编译、压缩的任务：css<br>gulp.task(‘css’, function () {<br> gulp.src([‘src/css/*.less’, ‘!src/css/_*.less’])<br> .pipe(less())<br> .pipe(cssnano())<br> .pipe(gulp.dest(‘dist/css’))<br> .pipe(browserSync.reload({<br> stream: true<br> }));<br>});  </p>
<h5 id="JavaScript合并、压缩、混淆"><a href="#JavaScript合并、压缩、混淆" class="headerlink" title="JavaScript合并、压缩、混淆"></a><a href="#JavaScript%E5%90%88%E5%B9%B6%E3%80%81%E5%8E%8B%E7%BC%A9%E3%80%81%E6%B7%B7%E6%B7%86" title="JavaScript合并、压缩、混淆"></a>JavaScript合并、压缩、混淆</h5><p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11  </p>
<p>// 定义多个JavaScript文件合并、压缩混淆的任务：js<br>gulp.task(‘js’, function () {<br> gulp.src(‘src/js/*.js’)<br> .pipe(concat(‘index.js’)) // JS合并之后，文件命名为index.js<br> .pipe(uglify())  // JS压缩混淆<br> .pipe(gulp.dest(‘dist/js’))<br> .pipe(browserSync.reload({<br> stream: true<br> }));  </p>
<p>});  </p>
<h5 id="将src文件夹下img图片复制到dist文件夹下img"><a href="#将src文件夹下img图片复制到dist文件夹下img" class="headerlink" title="将src文件夹下img图片复制到dist文件夹下img"></a><a href="#%E5%B0%86src%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8Bimg%E5%9B%BE%E7%89%87%E5%A4%8D%E5%88%B6%E5%88%B0dist%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8Bimg" title="将src文件夹下img图片复制到dist文件夹下img"></a>将src文件夹下img图片复制到dist文件夹下img</h5><p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9  </p>
<p>// 定义image复制的任务：img<br>gulp.task(‘img’, function () {<br> gulp.src(‘src/img/*.*‘)<br> .pipe(gulp.dest(‘dist/img’))<br> .pipe(browserSync.reload({<br> stream: true<br> }));  </p>
<p>});  </p>
<h5 id="html代码压缩"><a href="#html代码压缩" class="headerlink" title="html代码压缩"></a><a href="#html%E4%BB%A3%E7%A0%81%E5%8E%8B%E7%BC%A9" title="html代码压缩"></a>html代码压缩</h5><p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9  </p>
<p>// 定义HTML压缩的任务：html<br>gulp.task(‘html’, function () {<br> gulp.src(‘src/*.html’)<br> .pipe(htmlmin({collapseWhitespace: true}))<br> .pipe(gulp.dest(‘dist’))<br> .pipe(browserSync.reload({<br> stream: true<br> }));<br>});  </p>
<h5 id="多浏览器同步操作，开启gulp监视文件变动"><a href="#多浏览器同步操作，开启gulp监视文件变动" class="headerlink" title="多浏览器同步操作，开启gulp监视文件变动"></a><a href="#%E5%A4%9A%E6%B5%8F%E8%A7%88%E5%99%A8%E5%90%8C%E6%AD%A5%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%BC%80%E5%90%AFgulp%E7%9B%91%E8%A7%86%E6%96%87%E4%BB%B6%E5%8F%98%E5%8A%A8" title="多浏览器同步操作，开启gulp监视文件变动"></a>多浏览器同步操作，开启gulp监视文件变动</h5><p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16  </p>
<p>// 定义浏览器同步操作服务的任务：browserSync<br>gulp.task(‘browserSync’, function () {<br> browserSync({<br> server: {<br> baseDir: [‘dist’]<br> }  </p>
<p> }, function (err, bs) {<br> console.log(bs.options.getIn([“urls”, “local”]));<br> });<br> // 开启gulp监视<br> gulp.watch(‘src/css/*.less’, [‘css’]);  // less文件改动时，执行css任务<br> gulp.watch(‘src/js/*.js’, [‘js’]);  // js文件改动时，执行js任务<br> gulp.watch(‘src/img/*.*‘, [‘img’]);  // image文件改动时，执行img任务<br> gulp.watch(‘src/*.html’, [‘html’]);  // html文件改动时，执行html任务<br>});  </p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a><a href="#%E4%BD%BF%E7%94%A8" title="使用"></a>使用</h3><ul>
<li>1 <code>$ gulp css</code> LESS 编译 压缩 合并</li>
<li>2 <code>$ gulp js</code> JavaScript 合并 压缩 混淆</li>
<li>3 <code>$ gulp img</code> image 复制</li>
<li>4 <code>$ gulp html</code> HTML 压缩</li>
<li>5 <code>$ gulp browserSync</code> 多浏览器同步操作，gulp监视JS/CSS/HTML文件改变</li>
</ul>
<p>到此，基于gulp的前端自动化工作流环境搭建完成，以下使用视频教程。<br><img src="http://ojzaff7fe.bkt.clouddn.com/gulp%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%8E%AF%E5%A2%83%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.gif" alt="使用视频教程"></p>
<p><a target="_blank" rel="noopener" href="https://github.com/itPoet/gulp">点击此处，下载本案例源代码</a></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-11-30</span><i class="fa fa-tag"></i><a class="tag" href="/tags/前端/" title="前端">前端 </a><a class="tag" href="/tags/Gulp/" title="Gulp">Gulp </a><a class="tag" href="/tags/前端自动化/" title="前端自动化">前端自动化 </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://ivma.me/2017/11/30/shi-yong-gulp-da-jian-qian-duan-zi-dong-hua-gong-zuo-liu-huan-jing-jian-yi-ban/,IVMA,使用gulp搭建前端自动化工作流环境（简易版）,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2018/01/17/shi-yong-es6-xin-te-xing-shi-xian-shu-zu-qu-chong/" title="使用ES6新特性实现数组去重">上一篇</a></li></ul></div><script src="/js/visitors.js"></script><a id="comments"></a><div id="vcomments" style="margin:0 30px;"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/gh/xcss/valine@latest/dist/Valine.min.js"></script><script>var valine = new Valine({
  el:'#vcomments',
  notify:false || false, 
  verify:true|| false, 
  app_id:'OoFJYn1HFSt0jts0o0HbVrp0-9Nh9j0Va',
  app_key:'guQCdpN0EcWaGWA4110951ht',
  placeholder:'念念不忘，必有回响...',
  path: window.location.pathname,
  serverURLs: '',
  visitor:true,
  recordIP:true,
  avatar:'mp'
})</script></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/baidu-tongji.js"></script></body></html>